node {
    on_commit to: develop, {
        maven.run(["clean"],properties:["skipTests":"true"],"test")
        checkmarx()
    }
    
    on_pull_request to: master, {
        maven.run(["clean package"],properties:["skipTests":"true"])
        checkmarx()
        whitesource.run("maven")
    }
        
    on_merge to: main, from: master, {
        maven.run(["clean package"],properties:["skipTests":"true"])
    }
}
